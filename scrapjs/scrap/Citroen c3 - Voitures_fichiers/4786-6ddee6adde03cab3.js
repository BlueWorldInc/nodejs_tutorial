(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4786],{34639:function(e,t,n){"use strict";n.d(t,{Z:function(){return ct}});var r=n(50029),a=n(92777),i=n(82262),o=n(10748),s=n(45959),c=n(63553),d=n(37247),u=n(59499),l=n(87794),f=n.n(l),p=n(67822),h=n(22779),g=n(51976),y=n(78890),v=n(50463),m=n(26072),_=n(30381),D=n.n(_),b=n(67294),O=n(89271),k=n(85996),P=n(84497),Z=n(42505),j=n(94184),Y=n.n(j),x=n(76141),S=n(45905),w=n(61148),B=n(90116);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=S.Gx.HOLIDAYS_TYPE_BOOKING_ACCEPTED,M=S.Gx.HOLIDAYS_TYPE_BOOKING_PENDING,N=S.Gx.HOLIDAYS_TYPE_OPEN,I=S.Gx.HOLIDAYS_TYPE_FIXED,R=S.Gx.HOLIDAYS_BOOKING_WAITING,T=S.Gx.HOLIDAYS_BOOKING_BOOKED,L=function(e){return D()(e,"YYYY-MM-DD").format("YYYY-MM-DD")},W=function(e,t){var n=[];if(e&&Array.isArray(e))for(var r=0;r<e.length;r++)e[r].type===t&&n.push({date:e[r],index:r});return n},G=function(e){return e.sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}))},F=function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,c=[],d=D()(t,"YYYY-MM-DD"),u=D()(n,"YYYY-MM-DD").subtract(1,"days"),l=u.diff(d,"days"),f=s&&s.isBooking;for(a=0;a<=l;a++){var p=D()(t,"YYYY-MM-DD").add(a,"days"),h=a%7===0,g=!!f&&0===a,y=i||0===a||a!==l&&h,v=!i&&!f&&0!==a&&(a===l||h),m="number"===typeof r&&!f&&(i||0===a||!i&&a===l||h),_=o&&h&&0!==a&&a!==l;c.push(E({date:L(p),isStartDate:y,isBookingFirstDay:g,isEndDate:v,isWeek:o,price:!!m&&r,index:e},s)),_&&c.push(E({date:L(p),isStartDate:y,isBookingFirstDay:g,isEndDate:!1,isWeek:o,price:r,index:e},s))}return c},U=function(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push.apply(t,(0,B.Z)(F(e.index,e.date.start_date,e.date.end_date,e.date.price,!0,!1,{isBooking:!0,type:e.date.type})))})),G(t)}},V=function(e,t){for(var n,r=D()(e,"YYYY-MM-DD"),a=0;a<t.length;a++){var i=t[a],o=i.start_date,s=i.end_date,c=i.simple_status;if(o&&s&&r.isSameOrAfter(D()(o),"day")&&r.isBefore(D()(s),"day")&&(c===R||c===T)){n=t[a];break}}return{isBooking:!!n,data:n}},H=function(e,t,n){var r;return e.filter((function(e){var a=D()(e.date).get("month"),i=D()().add(t,"month").get("month");return 12===(r=i+(n-1))&&(r=0),n<2?a===i:a===i||a===r}))},z=function(e,t){if(t)return t.find((function(t){return L(t.date)===L(e)}))},K=function(e,t){var n=6===D()(e,"YYYY-MM-DD").day(),r=n?e:D()(e,"YYYY-MM-DD").day(-1),a=t?D()(t,"YYYY-MM-DD").day(6):n?D()(e,"YYYY-MM-DD").day(13):D()(e,"YYYY-MM-DD").day(6);return{endDate:L(a),startDate:L(r)}},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(null===e||void 0===e?void 0:e.type)===I&&(null===t||void 0===t?void 0:t.type)===I,a=(null===e||void 0===e?void 0:e.type)===I&&(!t||(null===t||void 0===t?void 0:t.type)===N),i=t&&t.type===I&&(!e||e&&e.type===N),o=n?a:i;return!!r||!!o},q=function(e){var t=[];return Array.isArray(e)&&e.length?(e.forEach((function(e){for(var n=e.end_date,r=e.start_date,a=e.type,i=D()(n,"YYYY-MM-DD").diff(D()(r,"YYYY-MM-DD"),"days"),o=0;o<i;o++)t.push({date:D()(r,"YYYY-MM-DD").add(o,"days").format("YYYY-MM-DD"),type:a})})),t):t},Q=function(e,t){var n;if(t&&Array.isArray(t)&&t.length>0&&e)for(var r=0;r<t.length;r++)if(e.isSameOrBefore(D()(t[r].end_date,"YYYY-MM-DD"),"day")&&e.isSameOrAfter(D()(t[r].start_date,"YYYY-MM-DD"),"day")){n=r;break}return n},X=function(e,t,n){if(n&&Array.isArray(n)&&n.length>0&&e&&t){for(var r,a=D()(t,"YYYY-MM-DD").diff(D()(e,"YYYY-MM-DD"),"days"),i=!1,o=0;o<=a;o++){var s=D()(e,"YYYY-MM-DD").add(o,"days");if("number"!==typeof(r=Q(D()(s),n))||r<0||n[r].type===A||n[r].type===M||"closed"===n[r].type&&n[r+1]&&!s.isSame(D()(n[r+1].start_date,"YYYY-MM-DD"),"day")){i=!0;break}if(s.isSame(D()(n[r].end_date),"day")&&s.isBefore(D()(t,"YYYY-MM-DD"),"day")&&(!n[r+1]||!s.isSame(D()(n[r+1].start_date),"day")||n[r+1].type===A||n[r+1].type===M||"closed"===n[r+1].type)){i=!0;break}}return i}return!1},$=function(e,t){var n,r,a=Q(e,t);if("number"===typeof a&&a>=0){for(var i=a;i<t.length;i++)if(!t[i+1]||L(t[i].end_date)!==L(t[i+1].start_date)||t[i+1].type===M||t[i+1].type===A){n=L(D()(t[i].end_date,"YYYY-MM-DD"));break}for(var o=a;o>=0;o--)if(0===o||L(t[o].start_date)!==L(t[o-1].end_date)||t[o-1].type===M||t[o-1].type===A){r=L(t[o].start_date);break}}return{outsideBefore:r,outsideAfter:n}};var ee=function(e){var t=D()().startOf("month");return e.startOf("month").diff(t,"months")},te=n(21202),ne=n(55126),re=n.n(ne),ae=n(85893);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var oe=S.Gx.HOLIDAYS_TYPE_BOOKING_ACCEPTED,se=S.Gx.HOLIDAYS_TYPE_BOOKING_PENDING,ce=function(e){(0,s.Z)(n,e);var t=ie(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!D()(this.props.today).isSame(e.today)||this.props.disabled!==e.disabled||this.props.day!==e.day}},{key:"render",value:function(){var e,t,n,r=this.props,a=r.customClass,i=r.day,o=r.defaultPrice,s=r.disabled,c=r.isOutsideRange,d=r.today,l=i&&i.isBooking,f=i&&i.isBookingFirstDay,p=i&&i.type===oe,h=i&&i.type===se,g=i&&i.isWeek,y=i&&i.isEndWeekStartNight,v=i&&i.isStartDate,m=i&&i.isEndDate,_=i&&i.price,D=_&&v&&!m,b=_&&!v&&m,O=v&&g&&!y,k=_&&v&&m&&!y,P=b&&!k,Z=i&&!i.unlockable;return(0,ae.jsxs)("div",{className:Y()(re().DayContent,a&&a.dayContent,(e={},(0,u.Z)(e,re().isBooked,!s&&p),(0,u.Z)(e,re().isWaiting,!s&&h),e)),children:[!c&&(0,ae.jsxs)("div",{children:[f&&(0,ae.jsx)("div",{className:re().firstDay}),!l&&(0,ae.jsxs)("div",{className:Y()(re().price,a&&a.price,(t={},(0,u.Z)(t,re().isWeek,g&&!s||P||y),(0,u.Z)(t,re().blackColor,k||O),(0,u.Z)(t,re().isNight,!P&&(y||b)),(0,u.Z)(t,re().isDisabled,s),t)),children:[(0,ae.jsx)("div",{className:"".concat(re().priceBloc," ").concat(re().priceBlocWithBackground)}),!l&&!P&&(!s&&k||y)&&(0,ae.jsx)("div",{className:Y()(re().endWeek,a&&a.endWeek)}),Z&&!s&&!l&&!P&&void 0===_&&(0,ae.jsxs)("div",{className:re().priceBloc,children:[(0,te.wh)((0,te.i2)(o)),"\u20ac"]}),Z&&!s&&!l&&(D||k||y)&&(0,ae.jsxs)("div",{className:re().priceBloc,children:[(0,te.wh)((0,te.i2)(_)),"\u20ac"]})]})]}),s&&(0,ae.jsx)("div",{className:re().disabledLine}),(0,ae.jsx)("div",{className:Y()(re().day,(n={},(0,u.Z)(n,re().withPrice,!s&&!l),(0,u.Z)(n,a&&a.withPrice,a&&a.withPrice&&!s&&!l),(0,u.Z)(n,re().disabled,s),n)),children:d.format("D")})]})}}]),n}(b.Component),de=n(93949),ue=n(23665),le=n.n(ue);function fe(){return(0,ae.jsx)("div",{className:le().Skeleton,children:(0,ae.jsx)(de.Z,{children:(0,B.Z)(new Array(7)).map((function(e,t){return(0,ae.jsx)("div",{className:le().line},t)}))})})}var pe=n(13030),he=n.n(pe);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var me=S.Gx.HOLIDAYS_TYPE_BOOKING_ACCEPTED,_e=S.Gx.HOLIDAYS_TYPE_BOOKING_PENDING,De=S.Gx.HOLIDAYS_TYPE_OPEN,be=S.Gx.HOLIDAYS_TYPE_FIXED,Oe=function(e){(0,s.Z)(n,e);var t=ve(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,o.Z)(e),"state",{startDate:null,endDate:null,dates:void 0,focusedInput:"startDate",isBooking:!1,lazyLoadingDates:void 0,lazyLoadingDatesBlocked:void 0,monthPagination:e.props.initialVisibleMonth?ee(e.props.initialVisibleMonth()):0}),(0,u.Z)((0,o.Z)(e),"isOutsideRange",(function(t){var n=e.props,r=n.parentType,a=n.isOutsideRange,i=n.dates,o=Q(t,i);return("host"===r||"default"===r)&&a&&a(t)||"adView"===r&&"number"!==typeof o||!(0,y.default)(t,D()())||!(0,v.default)(t,D()().add(1,"year"))})),(0,u.Z)((0,o.Z)(e),"removeDates",(function(){var t=e.props.onBookingReady;e.onDatesChange({startDate:void 0,endDate:void 0}),t&&t({bookingPrice:0,endDate:void 0,startDate:void 0}),e.onFocusChange("startDate")})),(0,u.Z)((0,o.Z)(e),"onPrevMonthClick",(function(){return e.setState((function(e){return{monthPagination:e.monthPagination-1}}))})),(0,u.Z)((0,o.Z)(e),"onNextMonthClick",(function(){return e.setState((function(e){return{monthPagination:e.monthPagination+1}}))})),(0,u.Z)((0,o.Z)(e),"onDatesChange",(function(t){var n=t.startDate,r=t.endDate,a=e.props,i=a.bookings,o=a.onBookingDatesChange;if(o){var s=i&&Array.isArray(i)&&i.length>0?V(n,i):{isBooking:!1,data:void 0},c=s&&s.data,d=s&&s.isBooking;o({booking:c,startDate:n,endDate:d?null:r,toggleForms:{booking:d,set:!d&&!!n}}),e.setState({isBooking:d}),d&&e.onFocusChange("startDate")}else e.setState({endDate:r,startDate:n})})),(0,u.Z)((0,o.Z)(e),"onFocusChange",(function(t){e.setState({focusedInput:t||"startDate"})})),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dates,n=e.startDate,r=e.endDate;Array.isArray(t)&&t.length&&this.setDates(t),this.setState(ye(ye({},n&&{startDate:n}),r&&{endDate:r}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.dates,a=n.isBooking,i=n.monthPagination;t.dates===r&&t.monthPagination===i||this.updateDates(r);var o,s=this.props,c=s.dates,d=s.endDate,u=s.focusedInput,l=s.startDate;(0,h.Z)(e.dates,c)||this.setDates(c),u&&e.focusedInput!==u?o=u:l&&!a||(o="startDate"),this.setState(ye(ye(ye({},e.startDate!==l&&{startDate:l}),e.endDate!==d&&{endDate:d}),o&&{focusedInput:o}))}},{key:"setDates",value:function(e){var t=this.props.numberOfMonths,n=this.state.monthPagination,r=function(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push.apply(t,(0,B.Z)(F(e.index,e.date.start_date,e.date.end_date,e.date.price,!0,!1)))})),G(t)}}(W(e,De)),a=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t.push.apply(t,(0,B.Z)(F(e.index,e.date.start_date,D()(e.date.end_date,"YYYY-MM-DD").add(1,"day"),e.date.price,!1,!0)))}));var n=t.length-1;return t.map((function(e,r){r<n&&t[r+1].date===e.date?t[r]=E(E({},t[r]),{},{isStartDate:!0,price:t[r+1].price}):t[r]=e})),G(t)}}(W(e,be)),i=function(e){var t=[];if(e.forEach((function(e){e&&e.length>0&&t.push.apply(t,(0,B.Z)(e))})),t.length<1)return[];var n=G(t),r=t.length-1,a=[];n.forEach((function(e,t){!(t<r&&D()(n[t+1].date).isAfter(D()(e.date,"YYYY-MM-DD").add(1,"day"),"day")&&e.isStartDate&&e.price)||e.isWeek||e.isEndDate||e.isEndWeekStartNight||e.isBookingFirstDay||a.push(t),t<r&&n[t+1].date===e.date?(n[t+1].isWeek||e.type===M||e.type===A?n[t]=E(E({},e),{},{isEndWeekStartNight:!e.isWeek&&!n[t+1].isStartDate,isStartDate:!0,isEndDate:!0,price:n[t+1].isStartDate?n[t+1].price:e.price}):n[t]=E(E({},n[t+1]),{},{isStartDate:!0,isEndWeekStartNight:e.isWeek&&n[t+1].isStartDate}),delete n[t+1]):n[t]=e}));for(var i=a.length-1;i>=0;i--){var o={date:L(D()(n[a[i]].date,"YYYY-MM-DD").add(1,"day")),isBookingFirstDay:!1,isEndDate:!1,isStartDate:!0,isWeek:!1,price:n[a[i]].price,unlockable:!0,index:n[a[i]].index};n.splice(a[i]+1,0,o)}return n}([U(W(e,_e)),U(W(e,me)),r,a]);this.setState(ye({dates:i},i&&{lazyLoadingDates:H(i,n,t)}))}},{key:"updateDates",value:function(e){this.setState(ye({},e&&{lazyLoadingDates:H(e,this.state.monthPagination,this.props.numberOfMonths)}))}},{key:"renderDayContents",value:function(e){var t=this.props,n=t.customClassDayContent,r=t.defaultPrice,a=t.isOutsideRange,i=t.parentType,o=t.dates,s=this.state,c=s.lazyLoadingDates,d=s.startDate,u=c&&z(e,c),l=u&&"number"===typeof u.index&&"adView"===i&&function(e,t,n){var r=!1;if(t&&t.unlockable){var a=$(D()(t.date,"YYYY-MM-DD"),n);e&&e&&e.isBefore(D()(a.outsideAfter,"YYYY-MM-DD"),"day")&&e.isSameOrAfter(D()(a.outsideBefore,"YYYY-MM-DD"),"day")||(r=!0)}return r}(d,u,o),f=!u&&"default"!==i||l||"host"===i&&u&&u.unlockable||a&&a(e);return(0,ae.jsx)(ce,{customClass:n,day:u,defaultPrice:r,disabled:f,handleBooking:this.handleBooking,isOutsideRange:f,today:e})}},{key:"render",value:function(){var e=this.props,t=e.daySize,n=e.enableOutsideDays,r=e.minimumNights,a=e.numberOfMonths,i=e.initialVisibleMonth,o=e.parentType,s=e.calendarStyle,c=this.state,d=c.endDate,u=c.focusedInput,l=c.monthPagination,f=c.startDate,p=c.dates,h=l>0?(0,ae.jsx)(w.ZP,{children:(0,ae.jsx)(P.Z,{})}):(0,ae.jsx)("div",{}),y=l<12?(0,ae.jsx)(w.ZP,{children:(0,ae.jsx)(Z.Z,{})}):(0,ae.jsx)("div",{}),v={daySize:t,enableOutsideDays:n,hideKeyboardShortcutsPanel:!0,minimumNights:r,noBorder:!0,numberOfMonths:a,initialVisibleMonth:i};return(0,ae.jsxs)("div",{className:Y()(s,he().calendar),children:[p?(0,ae.jsx)(x.DayPickerRangeController,ye(ye({},v),{},{numberOfMonths:a,startDate:f,endDate:d,onDatesChange:this.onDatesChange,focusedInput:u,onFocusChange:this.onFocusChange,onPrevMonthClick:this.onPrevMonthClick,onNextMonthClick:this.onNextMonthClick,isOutsideRange:this.isOutsideRange,navPrev:h,navNext:y,renderDayContents:this.renderDayContents.bind(this),transitionDuration:0})):(0,ae.jsx)(fe,{}),"adView"===o&&f&&(0,ae.jsx)("div",{className:he().remove,children:(0,ae.jsx)(g.Z,{variant:"link",onClick:this.removeDates,paddingRight:"large",marginBottom:"small",size:"small",children:"Effacer les dates"})})]})}}]),n}(b.PureComponent);(0,u.Z)(Oe,"defaultProps",{enableOutsideDays:!1,minimumNights:1,numberOfMonths:1,parentType:"default"});var ke=Oe,Pe=n(96585),Ze=n(97201),je=n(48226),Ye=n(82320),xe=n(98383),Se=n(13245),we=n(24442),Be=n(10987),Ce=n(1311),Ee=n(13200),Ae=n(17489),Me=n(87423),Ne=n(6180),Ie=n.n(Ne);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(e){var t=e.end,n=e.start,r={paddingLeft:"small",paddingRight:"small",paddingTop:"x-small",paddingBottom:"x-small"},a=!n&&!t,i=n&&!t,o=a?"orange":null,s=i?"orange":null,c=a?"white":null,d=i?"white":null;return(0,ae.jsxs)("div",{className:Ie().BookingPeriod,children:[(0,ae.jsx)("div",{className:Ie().icon,children:(0,ae.jsx)(w.ZP,{color:"greyMedium",size:"fluid",children:(0,ae.jsx)(Me.Z,{})})}),(0,ae.jsx)(O.Z,Te(Te({backgroundColor:o,color:c},r),{},{children:n?D()(n).format("DD/MM/YYYY"):"Arriv\xe9e"})),(0,ae.jsx)(O.Z,{marginLeft:"large",marginRight:"large",children:"-"}),(0,ae.jsx)(O.Z,Te(Te({backgroundColor:s,color:d},r),{},{children:t?D()(t).format("DD/MM/YYYY"):"D\xe9part"}))]})},We=n(33233),Ge=n(91473),Fe=n(2659),Ue=n(95395),Ve=n(8921),He=n(77841),ze=n.n(He),Ke=function(e){return e.isVisible?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:ze().overlay}),(0,ae.jsx)("div",{className:ze().spinner,children:(0,ae.jsx)(Ve.Z,{})})]}):null},Je=n(42039),qe=n.n(Je),Qe=function(e){var t=e.defaultPrice,n=e.isLoading,r=e.price,a=e.isWeeklyPrice,i=e.isBookable,o=r&&r>0,s=(0,b.useRef)(null);return(0,ae.jsxs)("div",{className:n?qe().loadingWrapper:qe().BookingPrice,ref:s,children:[(0,ae.jsx)(Ke,{isVisible:n}),(0,ae.jsxs)(O.Z,{children:[o?"Prix du s\xe9jour : ":"\xc0 partir de ",o?(0,te.i2)(r):t," \u20ac",!o&&!a&&" / nuit",!o&&a&&" / semaine"]}),i?(0,ae.jsxs)("button",{type:"button",className:qe().infoIcon,"data-qa-id":"informations_price_tooltip",children:[(0,ae.jsx)(w.ZP,{color:"grey",marginLeft:"small",children:(0,ae.jsx)(Ge.Z,{title:"Informations"})}),(0,ae.jsx)(Fe.Z,{containerRef:s,children:function(e){var t=e.close;return(0,ae.jsx)("div",{className:qe().priceInfoPopin,children:(0,ae.jsx)(Ue.Z,{padding:"medium",position:"relative",variant:"shadowed",children:(0,ae.jsxs)("div",{className:qe().content,children:[(0,ae.jsx)(O.Z,{color:"greyDark",display:"flex",children:"Des frais de service s\u2019appliquent pour s\xe9curiser votre paiement. Taxe de s\xe9jour non incluse dans le tarif."}),(0,ae.jsx)("div",{onClick:t,children:(0,ae.jsx)(w.ZP,{color:"grey",colorHover:"greyDark",children:(0,ae.jsx)(We.Z,{title:"Fermer"})})})]})})})}})]}):null]})},Xe=n(87966),$e=n.n(Xe);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var tt=function(e){(0,s.Z)(n,e);var t=et(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.bookingPrice,n=e.defaultPrice,r=e.endDate,a=e.hasAdjustedDates,i=e.isPeriodUnavailable,o=e.isPriceLoading,s=e.startDate,c=e.containerClassName,d=e.isWeeklyPrice,u=e.isBookable,l=e.minimumNights,f=!i&&a;return(0,ae.jsxs)("div",{className:Y()(c,$e().BookingInfos),children:[(0,ae.jsx)(Qe,{defaultPrice:n,isLoading:o,price:t,isWeeklyPrice:d,isBookable:u}),(0,ae.jsx)(Le,{end:r,start:s}),i&&(0,ae.jsx)("div",{className:$e().warningMessage,children:(0,ae.jsx)(Ae.Z,{variant:"warning",children:"Cette annonce n\u2019est pas disponible pour les dates s\xe9lectionn\xe9es"})}),f&&(0,ae.jsx)("div",{className:$e().warningMessage,children:(0,ae.jsx)(Ae.Z,{variant:"warning",children:"R\xe9servable uniquement \xe0 la semaine"})}),l>1&&!d&&!f&&(0,ae.jsx)("div",{className:$e().warningMessage,children:(0,ae.jsxs)(Ae.Z,{variant:"warning",children:[l," nuits minimum"]})})]})}}]),n}(b.PureComponent),nt=tt,rt=n(14329),at=n.n(rt);function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var ot=(0,m.FS)(),st=function(e){(0,s.Z)(n,e);var t=it(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,o.Z)(e),"state",{startDate:null,endDate:null,booking:void 0,formatedDates:q(e.props.dates),hasAdjustedDates:!1,isPeriodUnavailable:!1,toggleForms:{booking:!1,set:!1},calendarOutsideRange:{after:null,before:null},startDateFromSearch:ot&&localStorage.getItem("lastReq:dateMin"),endDateFromSearch:ot&&localStorage.getItem("lastReq:dateMax"),bookingPrice:0,isBookingPriceFetching:!1,minimumNights:1}),(0,u.Z)((0,o.Z)(e),"isOutsideRange",(function(t){var n=e.state,r=n.calendarOutsideRange;return!!n.startDate&&(!!r.before&&!(0,y.default)(t,D()(r.before))||!!r.after&&!(0,v.default)(t,D()(r.after)))})),(0,u.Z)((0,o.Z)(e),"setOutsideRange",(function(t){var n=e.props.dates,r=D()(t),a=$(r,n);e.setState({calendarOutsideRange:{after:a.outsideAfter,before:a.outsideBefore}})})),(0,u.Z)((0,o.Z)(e),"onBookingDatesChange",(function(t){var n=e.props.dates,r=t.startDate,a=t.endDate;e.setOutsideRange(r);var i=Array.isArray(n)&&n.length,o=i?e.getFormatedDay(r):r,s=i?e.getFormatedDay(a):a,c=K(r,a),d=!!i&&J(o,s,!0),u=!!i&&J(o,s),l=X(r,a,n);e.setState((function(t){var n=e.shouldResetEndDate(t,r),i=t.startDate;return{startDate:d&&i&&null===t.endDate&&a?D()(c.startDate):r,endDate:n?null:u?D()(c.endDate):a,hasAdjustedDates:u||d,isPeriodUnavailable:!n&&l}}))})),(0,u.Z)((0,o.Z)(e),"renderContactHostButton",(function(){var t=e.props,n=t.adListId,r=t.adreplyRedirectUrl,a=t.category,i=t.displayOfferAction,o=t.hasPhone,s=t.isNoSalesmen,c=t.ownerStoreId,d=t.phoneNumber,u=t.getPhoneNumber,l=t.trackContact;return o?(0,ae.jsx)(Se.Z,{adListId:n,hasPhone:o,phoneNumber:d,isNoSalesmen:s,tracking:Be.i8,getPhoneNumber:u,categoryId:a,children:(0,ae.jsx)(we.Z,{})}):(0,ae.jsx)(Ze.Z,{categoryId:a,adListId:n,displayOffer:i,adreplyRedirectUrl:r,ownerStoreId:c,tracking:l,children:(0,ae.jsx)(je.Z,{isCalendar:!0})})})),(0,u.Z)((0,o.Z)(e),"sendTrackingEvent",(function(){var t=e.props,n=t.trackBooking,r=t.adListId,a=t.user.isAuthenticated,i=Ce.H.getTokensFromCookies().accessToken,o=a?i:null;n(),Pe.cL.beginBooking(r,o),Ee.X.sendTrackingReservation()})),(0,u.Z)((0,o.Z)(e),"onBookingDatesComplete",(0,r.Z)(f().mark((function t(){var n,r,a,i,o=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=o.length<=1?void 0:o[1],r=o.length<=2?void 0:o[2],window.utag_data=(0,p.Z)(["weborama","reservation"],{datemin:n.format("YYYYMMDo"),datemax:r.format("YYYYMMDo")},window.utag_data)}catch(s){window.utag_data=(0,p.Z)(["weborama","reservation"],{datemin:null,datemax:null},window.utag_data)}return e.setState({isBookingPriceFetching:!0}),t.prev=2,t.next=5,Ye.BQ.getBookingNightsPrice.apply(Ye.BQ,o);case 5:a=t.sent,i=a.price,e.setState({bookingPrice:i,isBookingPriceFetching:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.setState({bookingPrice:0,isBookingPriceFetching:!1});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))),(0,u.Z)((0,o.Z)(e),"onBookingDatesReset",(function(){window.utag_data=(0,p.Z)(["weborama","reservation"],{datemin:null,datemax:null},window.utag_data),e.setState({bookingPrice:0})})),(0,u.Z)((0,o.Z)(e),"getInitialVisibleMonth",(function(){var t=e.props.dates,n=e.state,r=n.startDateFromSearch,a=n.endDateFromSearch,i=r&&a&&!X(r,a,t)&&D()(r).startOf("month");return i?function(){return i}:null})),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dates,n=e.isWeeklyPrice,r=e.minimumNights,a=this.state,i=a.startDateFromSearch,o=a.endDateFromSearch;i&&o&&!X(i,o,t)&&(this.onBookingDatesChange({startDate:D()(i)}),this.onBookingDatesChange({startDate:D()(i),endDate:D()(o)})),this.setState({minimumNights:n?1:r})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.endDate,a=n.startDate,i=n.isPeriodUnavailable,o=n.bookingPrice,s=t.endDate,c=t.bookingPrice,d=this.props,u=d.adListId,l=d.onBookingReady,f=d.dates;s===r||null===r||i?o>0&&null===r&&(this.onBookingDatesReset(),l({bookingPrice:0,endDate:L(r),startDate:L(a)})):this.onBookingDatesComplete(u,a,r),l&&a&&r&&o!==c&&o>0&&l({bookingPrice:o,endDate:L(r),startDate:L(a)}),(null===f||void 0===f?void 0:f.length)>0&&!(0,h.Z)(e.dates,f)&&this.setState({formatedDates:q(f)})}},{key:"getFormatedDay",value:function(e){var t=this.state.formatedDates;return t&&t.length>0?z(e,t):null}},{key:"shouldResetEndDate",value:function(e,t){var n=e.endDate,r=e.startDate,a=D()(t);return r&&(a.isBefore(r)||a.isBetween(r,n)||a.isSame(r)&&n)}},{key:"renderResaButton",value:function(){var e,t,n=this.props.adListId,r=this.state,a=r.endDate,i=r.isPeriodUnavailable,o=r.startDate,s=r.bookingPrice,c=null===a||null===o||i||0===s;c||(e=L(o),t=L(a));var d=c?"":"".concat(k.e.SOYOUZ_BOOKING_SUMMARY,"?productID=").concat(n,"&totalAmount=").concat(s/100,"&startDate=").concat(e,"&endDate=").concat(t,"&people=1"),u=c?"":this.props.bookingUrl;return k.e.FEATURES.NEW_RESA_PAGE_ENABLED?(0,ae.jsx)(g.Z,{disabled:c,onClick:this.sendTrackingEvent,fullWidth:!0,to:u,as:xe.r,variant:"contained",color:"secondary","data-qa-id":"adview_bouton_reservation",children:"R\xe9server ces dates"}):(0,ae.jsx)(g.Z,{disabled:c,onClick:this.sendTrackingEvent,fullWidth:!0,href:d,as:xe.r,children:"R\xe9server ces dates"})}},{key:"render",value:function(){var e=this.props,t=e.isBookable,n=e.dates,r=e.defaultPrice,a=e.daySize,i=e.numberOfMonths,o=e.calendarStyle,s=e.parentType,c=e.isWeeklyPrice,d=e.onBookingReady,u=this.state,l=u.startDate,f=u.endDate,p=u.hasAdjustedDates,h=u.isPeriodUnavailable,g=u.isBookingPriceFetching,y=u.bookingPrice,v=u.minimumNights,m=r[0];return(0,ae.jsxs)("div",{className:at().BookingCalendar,children:[(0,ae.jsx)(nt,{bookingPrice:y,defaultPrice:r[0],startDate:l,endDate:f,hasAdjustedDates:p,isPeriodUnavailable:h,isPriceLoading:g,isWeeklyPrice:c,isBookable:t,minimumNights:v}),(0,ae.jsx)(ke,{initialVisibleMonth:this.getInitialVisibleMonth(),calendarStyle:o,daySize:a,numberOfMonths:i,dates:n,defaultPrice:m,disableBlockedDays:!0,isOutsideRange:this.isOutsideRange,startDate:l,endDate:f,onBookingDatesChange:this.onBookingDatesChange,parentType:s||"adView",onBookingReady:d,minimumNights:v}),!t&&(0,ae.jsx)(O.Z,{as:"p",variant:"small",marginBottom:"small",children:"N\u2019h\xe9sitez pas \xe0 v\xe9rifier les disponibilit\xe9s de vos dates en contactant l\u2019h\xf4te"}),t?this.renderResaButton():this.renderContactHostButton()]})}}]),n}(b.Component);st.defaultProps={minimumNights:1};var ct=st},48226:function(e,t,n){"use strict";var r=n(59499),a=n(4730),i=n(51976),o=n(61148),s=n(22965),c=n(79413),d=n(61707),u=(n(67294),n(75370)),l=n(96600),f=n(85893),p=["isCalendar","categoryId","hasUrlRecruiter","labelShorten","isLocasunAd","isLocationModal","isHousingMap","variant","withIcon","adType"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isCalendar,n=void 0!==t&&t,r=e.categoryId,h=void 0===r?void 0:r,y=e.hasUrlRecruiter,v=void 0!==y&&y,m=e.labelShorten,_=void 0!==m&&m,D=e.isLocasunAd,b=void 0!==D&&D,O=e.isLocationModal,k=void 0!==O&&O,P=e.isHousingMap,Z=void 0!==P&&P,j=e.variant,Y=void 0===j?"contained":j,x=e.withIcon,S=void 0===x||x,w=e.adType,B=void 0===w?u.W.OFFER:w,C=(0,a.Z)(e,p),E=h===s.gm.id,A=(0,l.L)({isCalendar:n,isJobCategory:E,isLocasunAd:b,labelShorten:_,isLocationModal:k,isHousingMap:Z,isOffer:B===u.W.OFFER}),M=function(e){return e?(0,f.jsx)(c.Z,{title:"message-external-svg"}):(0,f.jsx)(d.Z,{title:"message-svg"})}(E&&v);return(0,f.jsxs)(i.Z,g(g({"data-pub-id":"adview_button_contact_navbar",variant:Y,fullWidth:!0},C),{},{children:[S&&(0,f.jsx)(o.ZP,{color:"contained"===Y?"white":"blue",marginRight:"small",children:M}),A]}))}},97201:function(e,t,n){"use strict";var r=n(59499),a=n(67294),i=n(78483),o=n(8664),s=n(10303),c=n(93903),d=n(82913),u=n(61653),l=n(95968),f=n(41031),p=n(85893);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.adType,n=e.children,r=e.adListId,h=e.categoryId,y=e.adreplyRedirectUrl,v=e.attributes,m=e.ownerStoreId,_=e.isLocationModal,D=e.variant,b=e.tracking,O=(0,l.Z)().getConversationLink,k=(0,f.Z)(),P=function(){var e;b&&b(h,y),(0,i.f)({list_id:r,user_id:null===(e=k.data)||void 0===e?void 0:e.userId,event_type:(0,i.J)({categoryId:h,adreplyRedirectUrl:y,ownerStoreId:m,attributes:v,origin:"contact"})})},Z=!(0,s.OL)({attributes:v})&&{target:"_blank",rel:"noopener"},j=y&&g({as:"a",href:y},Z);return(0,p.jsx)("div",{children:a.cloneElement(n,g({isEmploiCadreAd:(0,o.BB)({owner:{ownerStoreId:m}}),isLocasunAd:(0,o.Yq)(m,c.fY),hasUrlRecruiter:void 0!==y,onClick:y?P:function(){P();var e=O(r);e?u.F.push(e):(0,d.c)(r)},categoryId:h,isLocationModal:_,variant:D,adType:t},j))})}},96600:function(e,t,n){"use strict";n.d(t,{E:function(){return o},L:function(){return s}});var r=n(79413),a=n(61707),i=(n(67294),n(85893)),o=function(e){return e?(0,i.jsx)(r.Z,{title:"Message"}):(0,i.jsx)(a.Z,{title:"Message"})},s=function(e){var t=e.isJobCategory,n=e.isLocationModal,r=e.isLocasunAd,a=e.labelShorten,i=e.isOffer,o=e.isHousingMap,s=e.isCalendar;return n?"Demander l\u2019adresse du bien":t&&i?"Postuler":a||r?"Contacter":s?"Envoyer un message":o?"Demander l\u2019adresse pr\xe9cise":"Message"}},24442:function(e,t,n){"use strict";var r,a=n(71383),i=n(51976),o=n(34774),s=n(61148),c=n(61694),d=(n(67294),n(61130)),u=n(82297),l=n(47714),f=n(85893),p=(0,u.Z)("span")(r||(r=(0,a.Z)(["\n  cursor: help;\n  height: 1.7rem;\n"])));t.Z=function(e){var t=e.label,n=void 0===t?"Voir le num\xe9ro":t,r=e.phoneNumber,a=e.showNumber,u=e.isNoSalesmen;return(0,f.jsx)("div",{children:a&&r?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(i.Z,{as:"a",href:"tel:".concat(r),title:u?"Appeler":"Contacter le vendeur","data-qa-id":"adview_number_phone_contact",fullWidth:!0,children:[(0,o.un)(r),u&&(0,f.jsx)(p,{"data-tip":"Oppos\xe9 au d\xe9marchage commercial","data-place":"left",children:(0,f.jsx)(s.ZP,{size:"small",color:"blue",marginLeft:"small",children:(0,f.jsx)(d.Z,{title:"Oppos\xe9 au d\xe9marchage commercial"})})})]}),(0,f.jsx)(l.Z,{})]}):(0,f.jsxs)(i.Z,{"data-qa-id":"adview_button_phone_contact",fullWidth:!0,children:[(0,f.jsx)(s.ZP,{size:"large",color:"blue",marginRight:"small",children:(0,f.jsx)(c.Z,{title:"Message inactif"})}),n]})})}},13245:function(e,t,n){"use strict";var r=n(50029),a=n(92777),i=n(82262),o=n(10748),s=n(45959),c=n(63553),d=n(37247),u=n(59499),l=n(87794),f=n.n(l),p=n(74555),h=n(22965),g=n(26541),y=n(67294),v=n(19251),m=n(85996),_=n(44437),D=n(81706),b=n(85893);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var Z=function(e){(0,s.Z)(n,e);var t=P(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,o.Z)(e),"handleClick",(0,r.Z)(f().mark((function t(){var n,r,a,i,o,s,c,d,u,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.onPhoneNumberDisplayed,a=n.phoneNumber,i=n.adListId,o=n.tracking,s=n.categoryId,c=n.getPhoneNumber,d=n.user,u=e.context.ad,!d.isAuthenticated){t.next=6;break}a||(c(i),null===r||void 0===r||r()),t.next=9;break;case 6:return l=new g.fP(m.e,!0),t.next=9,l.connect();case 9:null===o||void 0===o||o(),(0,_.i)({ad:u,page_name:"seller_bloc",action:"display_telephone_number",user:d}),(0,D.Z)(s);case 12:case"end":return t.stop()}}),t)})))),(0,u.Z)((0,o.Z)(e),"isHolidaysAd",(0,h.cp)(h.we.Holidays,e.props.categoryId)),e}return(0,i.Z)(n,[{key:"render",value:function(){return(0,b.jsx)("div",{onClick:this.handleClick,children:y.cloneElement(this.props.children,k(k({},this.props),{},{label:this.isHolidaysAd?"Contacter l\u2019h\xf4te":void 0,showNumber:!!this.props.phoneNumber}))})}}]),n}(y.Component);(0,u.Z)(Z,"contextType",v.Q);t.Z=(0,p.$j)((function(e){return{user:e.user}}),null)(Z)},13714:function(e,t,n){"use strict";n.d(t,{fw:function(){return a},o0:function(){return i},jl:function(){return o},eX:function(){return s},rJ:function(){return c},TW:function(){return d},Yi:function(){return u},Vk:function(){return l},xp:function(){return f},_l:function(){return p}});var r=n(20934),a={DEPOSIT_AD:{name:r.V.DEPOSIT,url:"deposer-une-annonce",trackingValue:"newad"},EDIT_AD:{name:r.V.EDIT,url:"editer",trackingValue:"editad"},PROLONG_AD:{name:r.V.PROLONGATION,url:"prolong",trackingValue:"prolong"},EDIT_REFUSED:{name:r.V.EDIT_REFUSED,url:"corriger",trackingValue:"edit_refused"},EDIT_CARTALOG:{name:r.V.EDIT_CARTALOG,url:"vehicule",trackingValue:"edit_cartalog"}},i="shipping",o="estimated_parcel_weight",s=["format","duplicated","server"],c="Nous avons rencontr\xe9 une erreur inattendue. Merci de r\xe9essayer ult\xe9rieurement.",d="Un peu de patience, cette annonce est en cours de mod\xe9ration.",u="Vous ne pouvez pas prolonger votre annonce tant que celle-ci n\u2019a pas expir\xe9.",l="Votre annonce est en cours de validation, cette action ne peut \xeatre effectu\xe9e pour le moment.",f="Vous n\u2019\xeates pas autoris\xe9(e) \xe0 modifier cette annonce.",p="L\u2019annonce n\u2019est plus valide."},95968:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(50029),a=n(87794),i=n.n(a),o=n(70686),s=n(67294),c=n(74555),d=n(89078),u=n(41031);function l(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.contactedAds})),n=t.ads,a=t.shouldFetchContactedAds,l=t.error,f=(0,u.Z)(),p=(0,s.useCallback)((function(e){return n.find((function(t){return t.list_id===e}))}),[n]),h=(0,s.useCallback)((0,r.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||!(0,o.jl)(f)){t.next=5;break}return t.next=3,e(d.x.getContactedAds());case 3:return r=t.sent,t.abrupt("return",r);case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[a,n,f]),g=(0,s.useCallback)((function(e){return!!p(e)}),[p]),y=(0,s.useCallback)((function(t){e(d.x.deleteContactedAd(n,t.list_id)),e(d.x.addContactedAd(t))}),[n]),v=(0,s.useCallback)((function(e){var t=p(e);return(null===t||void 0===t?void 0:t.conversation_id)&&"/messages/id/".concat(t.conversation_id)}),[p]),m=(0,s.useCallback)((function(t){e(d.x.deleteConversationId(n,t))}),[n]);return{addContactedAd:y,contactedAds:n,deleteContactedAdConvId:m,getConversationLink:v,getContactedAds:h,isAdContacted:g,error:l}}},41031:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(74555);function a(){return(0,r.v9)((function(e){return e.user}),(function(e,t){var n,r;return(null===(n=e.data)||void 0===n?void 0:n.userId)===(null===(r=t.data)||void 0===r?void 0:r.userId)&&e.isAuthenticated===t.isAuthenticated}))}},19251:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},k:function(){return c}});var r=n(59211),a=n(67294),i={ad:{ad_type:n(75370).W.OFFER,attributes:[],body:"",category_id:"",category_name:"",first_publication_date:"",has_phone:!1,images:{nb_images:0,small_url:"",thumb_url:"",urls_large:[],urls_thumb:[],urls:[]},index_date:"",list_id:0,location:{city_label:"",city:"",country_id:"",department_id:"",department_name:"",feature:{type:"",geometry:{type:"",coordinates:[]},properties:null},is_shape:!1,lat:0,lng:0,provider:"",region_id:"",region_name:"",source:"",zipcode:""},options:{booster:!1,gallery:!1,has_option:!1,photosup:!1,sub_toplist:!1,urgent:!1},owner:{name:"",no_salesmen:!1,store_id:"",type:"",user_id:"",activity_sector:""},price:[],status:"",subject:"",url:""},adAttributes:{adreplyRedirectUrl:"",attributesFilter:[],bookingRedirect:"",chargesIncluded:!1,hasPendingTransaction:!1,isAnimalAdoption:!1,isBookable:!1,isCancellable:!1,isImmoSellTypeNew:!1,isNewHousingPromoter:!1,isNightlyPrice:!1,isRecentUsedVehicle:!1,isSanitary:!1,isShippable:!1,isSold:!1,isDonation:!1,isVehicleP2PEligible:!1,isWeeklyPrice:!1},bookingParams:{},isDatePickerLayerOpen:!1,bookingRedirectUrlWithParams:"",formattedPrice:[],hasBookingPrice:!1,getPhoneNumber:(0,r.Z)(null),isNoSalesmen:!1,isOfferButtonDisplayed:!1,isOnePro:!1,isOwnAd:!1,isPaused:!1,ownerProfileData:{ads:[],accountCreationDate:"",isAccountTypePro:!1,isUserVerified:!1,userPresenceStatus:"",isPresenceConsented:!0,userBadges:[],rating:0,ratingCount:0,responseTimeText:"",totalAds:0,profilePicture:{default:!0,small_url:"",medium_url:"",large_url:"",extra_large_url:""}},phoneNumber:null,pricePrefix:"",trackingCriteoOnForm:(0,r.Z)(null),trackingCriteoOnPhoneNumber:(0,r.Z)(null),setBookingParams:(0,r.Z)(null),setIsDatePickerLayerOpen:(0,r.Z)(null),shippingInfo:[],shouldDisplayVehiclePayment:!1},o={isDefaultErrorModalOpen:!1,isGalleryModalOpen:!1,p2pModalConfig:{isOpen:!1},setIsDefaultErrorModalOpen:(0,r.Z)(null),setIsGalleryModalOpen:(0,r.Z)(null),setP2pModalConfig:(0,r.Z)(null)},s=(0,a.createContext)(i),c=(0,a.createContext)(o)},47356:function(e,t,n){"use strict";n.d(t,{B:function(){return o},L:function(){return s}});var r=n(59499),a=n(74076),i=n(85996);function o(){var e=a.U.get(i.e.COOKIE_KEYS.adviewClickmeter);return e?e.split("__"):[]}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(e||t||n||o){var s=i.e.COOKIE_KEYS.adviewClickmeter;a.U.set((0,r.Z)({},s,"".concat(t,"__").concat(n,"__").concat(e,"__").concat(o)),{expires:void 0})}}},78483:function(e,t,n){"use strict";n.d(t,{J:function(){return h},f:function(){return p}});var r=n(17674),a=n(10303),i=n(22965),o=n(74076),s=n(85996),c=n(51424),d=n(51377),u=n(93903),l=n(47356),f=n(8664);function p(e){var t=e.list_id,n=e.user_id,a=e.event_type,i=(0,l.B)(),u=(0,r.Z)(i,4),f=u[0],p=u[3];!function(e){var t=e.list_id,n=e.user_id,r=e.referrer_id,a=e.referrer_type,i=e.event_type;(0,c.ZP)((function(e){return(0,d.W)("".concat(s.e.API.URL,"/api/contactmeter/v1/contact-event"),{headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify({list_id:t,user_id:n,referrer_id:r,referrer_type:a,event_type:i}),method:"POST"})}))}({list_id:t.toString(),event_type:a,user_id:n,referrer_id:p,referrer_type:f}),o.U.remove([s.e.COOKIE_KEYS.adviewClickmeter])}var h=function(e){var t=e.categoryId,n=e.adreplyRedirectUrl,r=e.ownerStoreId,o=e.attributes,s=e.origin,c=(0,i.cp)(i.we.Jobs,t),d=c&&!n,l=c&&!!n,p=(0,f.Yq)(r,u.fY),h=(0,f.Yq)(r,u.X1)||(0,a.OL)({attributes:o});switch(!0){case l:return"apply_external";case d:return"apply";case p:return"holidays_external";case h:return"real_estate_external";default:return g(s)}},g=function(e){switch(e){case"offer":return"buyer_offer";case"direct_deal":return"direct_purchase";case"secure_payment":return"vehicle_transaction";case"booking":return"book_holidays";default:return"contact_intent"}}},96585:function(e,t,n){"use strict";n.d(t,{r9:function(){return f},Op:function(){return l},cL:function(){return h}});var r=n(59499),a=n(97664),i=n(85996),o=n(51377);function s(e,t,n){var r={"Content-Type":"application/json"};null!==n&&(r.Authorization="Bearer ".concat(n)),(0,o.W)(e,{method:"POST",headers:r,body:t})}var c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.navigator.sendBeacon&&null===n&&window.navigator.sendBeacon(e,t)||s(e,t,n)};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={search:"search",alu:"alu",similar:"similar_ads",ownerAds:"owner_ads"},f={search:"listing",alu:"listing",similar:"adview",ownerAds:"adview",homepage:"homepage"};function p(e){if("object"===typeof e){var t=a.W3.getId(e),n=a.Hw.getText(e);return["searchtext=".concat(n?"true":"false"),t&&"category=".concat(t)].filter((function(e){return e})).join("&")}return null}var h={fetchAdview:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s="".concat(i.e.API.URL).concat(i.e.API_BASE_PATH.EVENTS,"/adview"),d=o.referrer_rank,l=o.referrer_type,f=o.referrer_page,h=o.referrer_id,g=o.last_search,y=p(g),v=JSON.stringify(u(u(u(u(u(u(u({list_id:String(e),category_id:String(t),region_id:String(n)},r&&{store_id:String(r)}),a&&{user_id:String(a)}),{},{search_category_id:o.search_category_id&&String(o.search_category_id),search_offset:o.search_offset,search_region_id:o.search_region_id&&String(o.search_region_id),search_text:o.search_text},l&&{referrer_type:String(l)}),d&&{referrer_rank:Number(d)}),y&&{referrer_info:String(y)}),f&&{referrer_page:String(f)}),h&&{referrer_id:String(h)}));c(s,v)},beginBooking:function(e,t){var n="".concat(i.e.API.URL).concat(i.e.API_BASE_PATH.EVENTS,"/booking/").concat(e);c(n,{},t)}}},82320:function(e,t,n){"use strict";n.d(t,{BQ:function(){return y}});var r=n(97754),a=n(30381),i=n.n(a),o=n(85996),s=n(51424),c=n(51377),d=(0,r.kG)("HOLIDAYS",o.e),u=(0,r.kG)("BOOKING",o.e),l=(0,r.kG)("BOOKING_V2",o.e),f=(0,r.kG)("VACATIONRENTALS",o.e),p=(0,r.kG)("CALENDAR",o.e),h=(0,r.kG)("CALENDAR_V2",o.e),g=function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},y={getBookingNightsPrice:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=i()(t).format("YYYY-MM-DD"),s=i()(n).format("YYYY-MM-DD");return(0,c.W)("".concat(f,"/property/").concat(e,"/nights_price/").concat(o,"/").concat(s,"?nb_adults=").concat(r,"&nb_children=").concat(a),{method:"GET"})},getBookingPrice:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=i()(t).format("YYYY-MM-DD"),d=i()(n).format("YYYY-MM-DD"),u=function(t){return(0,c.W)("".concat(f,"/property/").concat(e,"/price/").concat(o,"/").concat(d,"?nb_adults=").concat(r,"&nb_children=").concat(a),{method:"GET",headers:g(t)})};return(0,s.ZP)(u)},setBooking:function(e,t,n,r,a,i,o,d){return(0,s.ZP)((function(s){return(0,c.W)("".concat(f,"/property/").concat(e,"/bookings"),{method:"POST",body:JSON.stringify({arrival_date:t,departure_date:n,nb_adults:r,nb_children:a,first_name:i,last_name:o,phone_number:d}),headers:g(s)})}))},getCalendar:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(f,"/host/me/property/").concat(e,"/calendar"),{method:"GET",headers:g(t)})}))},getBookingsV1:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(f,"/host/me/property/").concat(e,"/bookings"),{method:"GET",headers:g(t)})}))},updateMinimumNights:function(e,t){return(0,s.ZP)((function(n){return(0,c.W)("".concat(f,"/host/me/property/").concat(e),{method:"PUT",headers:g(n),body:JSON.stringify({min_night_booking:t})})}))},getClassifiedAdInformation:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(d,"/host/v3/property/").concat(e),{method:"GET",headers:g(t)})}))},setCalendar:function(e,t,n,r,a){return(0,s.ZP)((function(i){return(0,c.W)("".concat(d,"/host/v3/property/").concat(e,"/calendar"),{method:"POST",body:JSON.stringify({type:t,startDate:n,endDate:r,price:a}),headers:g(i)})}))},acceptBooking:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(u,"/booking/").concat(e,"/accept"),{method:"PUT",headers:g(t)})}))},hostCancelBooking:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(u,"/booking/").concat(e,"/cancelbyhost"),{method:"PUT",headers:g(t)})}))},fetchVacationRentals:function(){return(0,s.ZP)((function(e){return(0,c.W)("".concat(u,"/host/me/product"),{method:"GET",headers:g(e)})}))},fetchVacationRentalById:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(u,"/host/me/product/").concat(e),{method:"GET",headers:g(t)})}))},getBookingsWaitingApproval:function(){return(0,s.ZP)((function(e){return(0,c.W)("".concat(u,"/host/me/count/waiting-approval"),{method:"GET",headers:g(e)})}))},getTripperBookingsByStatus:function(e){var t=e.join();return(0,s.ZP)((function(e){return(0,c.W)("".concat(u,"/tripper/me/booking?status=").concat(t),{method:"GET",headers:g(e)})}))},guestCancelBooking:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(u,"/booking/").concat(e,"/cancelbytripper"),{method:"PUT",headers:g(t)})}))},hasExceptionalFullRefund:function(){return(0,s.ZP)((function(e){return(0,c.W)("".concat(u,"/refund/exceptional-full-refund"),{method:"GET",headers:g(e)})}))},getBookings:function(e,t){var n=t.join();return(0,s.ZP)((function(t){return(0,c.W)("".concat(l,"/host/me/product/").concat(e,"/booking?status=").concat(n),{method:"GET",headers:g(t)})}))},getExternalCalendar:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(p,"/classified/").concat(e,"/calendar"),{method:"GET",headers:g(t)})}))},setExternalCalendar:function(e,t,n){return(0,s.ZP)((function(r){return(0,c.W)("".concat(p,"/classified/").concat(e,"/calendar"),{method:"POST",headers:g(r),body:JSON.stringify({name:t,external_url:n})})}))},synchroExternalCalendar:function(e){return(0,s.ZP)((function(t){return(0,c.W)("".concat(p,"/calendar/").concat(e,"/synchronize"),{method:"PUT",headers:g(t)})}))},updateExternalCalendar:function(e,t){return(0,s.ZP)((function(n){return(0,c.W)("".concat(p,"/calendar/").concat(e),{method:"PATCH",headers:g(n),body:JSON.stringify({external_url:t})})}))},fetchCalendarPeriods:function(e,t,n){return(0,s.ZP)((function(r){return(0,c.W)("".concat(h,"/classified/").concat(e,"/calendar?start-at=").concat(t,"&end-at=").concat(n),{method:"GET",headers:g(r)})}))},setCalendarPeriods:function(e){var t=e.calendarId,n=e.from,r=e.to,a=e.availability,i=e.rateType,o=e.price;return(0,s.ZP)((function(e){return(0,c.W)("".concat(h,"/calendar/").concat(t,"/availability"),{method:"PUT",headers:g(e),body:JSON.stringify({start_at:n,end_at:r,type:a,rate_type:i,price:o})})}))}}},20934:function(e,t,n){"use strict";var r,a;n.d(t,{S:function(){return r},V:function(){return a}}),function(e){e.SELL="sell",e.LET="let",e.BUY="buy",e.RENT="rent"}(r||(r={})),function(e){e.EDIT="editAd",e.DEPOSIT="depositAd",e.PROLONGATION="prolongAd",e.EDIT_REFUSED="editRefused",e.EDIT_CARTALOG="editCartalog"}(a||(a={}))},82913:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(16816),a=function(e){r.h.push("adReply",{id:e})}},81706:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(22965),a=n(85996);function i(e){var t=e&&(0,r.cp)(r.we.Holidays,e);a.e.GOOGLE_TAG_ENABLED&&window.gtag&&(e===r.gm.id&&window.gtag("event","conversion",{send_to:"AW-837584793/-z7UCLnguoABEJmPso8D",value:1,currency:"EUR"}),t&&window.gtag("event","conversion",{send_to:"AW-766292687/AzTCCPPW-JMBEM_lsu0C",value:1,currency:"EUR"})),window.fbq&&t&&window.fbq("track","Contact")}},87966:function(e){e.exports={BookingInfos:"styles_BookingInfos__B36ry",warningMessage:"styles_warningMessage__RMdlE"}},6180:function(e){e.exports={BookingPeriod:"styles_BookingPeriod__zUCjk",icon:"styles_icon__srW03"}},42039:function(e){e.exports={loadingWrapper:"styles_loadingWrapper__3jGX6",BookingPrice:"styles_BookingPrice__UcJnJ",priceInfoPopin:"styles_priceInfoPopin__iTUab",content:"styles_content__xIsBk",infoIcon:"styles_infoIcon__vircx"}},77841:function(e){e.exports={spinner:"styles_spinner__Mf6pj",overlay:"styles_overlay__9k1Ea"}},14329:function(e){e.exports={BookingCalendar:"styles_BookingCalendar__wtr29"}},55126:function(e){e.exports={DayContent:"styles_DayContent__O5vi7",day:"styles_day__7ktrg",withPrice:"styles_withPrice__QbVRn",firstDay:"styles_firstDay__y6zbl",disabled:"styles_disabled__eQ0_n",disabledLine:"styles_disabledLine__KvpzF",price:"styles_price__75eFk",priceBloc:"styles_priceBloc__0lqeJ",endWeek:"styles_endWeek__G1Wnt",isWeek:"styles_isWeek__3eycG",priceBlocWithBackground:"styles_priceBlocWithBackground__ePz8z",isNight:"styles_isNight__QgLu6",blackColor:"styles_blackColor__02qmh",isDisabled:"styles_isDisabled__Q45Pk",isWaiting:"styles_isWaiting__NKCFM",isBooked:"styles_isBooked__iiAJw"}},23665:function(e){e.exports={Skeleton:"styles_Skeleton__ekaTV",line:"styles_line__GyZYp"}},13030:function(e){e.exports={calendar:"styles_calendar__vQxD9",remove:"styles_remove__uSsH6"}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9934],{97259:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n,a=r(67294);function o(e){return n||(n=a.createElement("symbol",{id:"SvgPenoutline"},a.createElement("path",{d:"M.2 18.8a.66.66 0 00-.2.48v4a.66.66 0 00.67.72h4.05a.65.65 0 00.47-.2L19.74 9.26l-5-5zm3.69 2.53H2.66v-1.22L14.74 8 16 9.26zM23.61 3.51L20.49.39a1.33 1.33 0 00-1.88 0l-2.44 2.44 5 5 2.44-2.44a1.33 1.33 0 000-1.88z"})))}o.displayName="SvgPenoutline",o.defaultProps={viewBox:"0 0 24 24"}},68482:function(e,t,r){"use strict";var n=r(59499),a=r(4730),o=r(39872),i=r(25675),s=r(90178),c=r(67294),l=r(8921),p=r(85893),u=["dataTestId","preload","showLoader"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.height,r=e.width;return(0,p.jsx)(o.Z,{alignItems:"center",display:"flex",justifyContent:"center",height:t,width:r,children:(0,p.jsx)(l.Z,{})})};t.Z=function(e){e.dataTestId;var t,r=e.preload,n=void 0!==r&&r,o=e.showLoader,l=void 0!==o&&o,d=(0,a.Z)(e,u),_=(0,c.useState)(!1),h=_[0],g=_[1],v=l&&!h;return"string"===typeof(t=d.src)&&(t.startsWith("http")||t.startsWith("//"))?(0,p.jsx)("div",{}):(0,p.jsxs)(p.Fragment,{children:[v&&(0,p.jsx)(f,m({},(0,s.Z)(["height","width"],d))),(0,p.jsx)(i.default,m({onLoad:function(){return g(!0)},priority:n},d))]})}},16355:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(4730),a=r(94184),o=r.n(a),i=r(67294),s=r(39189),c=r.p+"static/loader-d509496e.mp4",l=r(48864),p=r.n(l),u=r(85893),d=["size"],m=function(e){var t=e.size,r=void 0===t?"medium":t,a=(0,n.Z)(e,d),i={small:30,medium:40,large:50,"x-large":128};return(0,u.jsx)("p",{className:o()(p().Loader,s.Dh.getStyles(a),s.GQ.getStyles(a),s.bK.getStyles(a),s.FK.getStyles(a)),"aria-live":"polite","aria-busy":"true",children:(0,u.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,width:i[r],height:i[r],title:"Chargement",children:[(0,u.jsx)("source",{src:c}),"Chargement..."]})})},f=i.memo(m)},28860:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(59499),a=r(23393),o=r(67294),i=r(74555),s=r(85996),c=r(70686),l=r(16816);var p=function(e){var t=e.options,r=e.user,n=(0,o.useState)(!1),a=n[0],i=n[1];return(0,o.useEffect)((function(){var e=t.allowed,n=void 0===e?function(){return!0}:e,a=t.allowedAccountTypes,o=void 0===a?[]:a,s=t.redirectTo,p=void 0===s?"home":s;if(!(0,c.jl)(r))return i(!1);var u=(0,c.lx)(r);return-1!==o.indexOf(u)&&n(r)?i(!0):l.h.push(p)}),[t,r]),a},u=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return(0,a.j)(m({appConfig:s.e,next:!0},e))((function(r){var n=(0,i.v9)((function(e){return e.user}));return p({options:e,user:n})?(0,u.jsx)(t,m({},r)):null}))}}},35054:function(e,t,r){"use strict";var n=r(59499),a=r(4730),o=r(19893),i=r(50779),s=r(67294),c=r(88192),l=r(85893),p=["onClose"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.onClose,r=(0,a.Z)(e,p),n=(0,s.useState)(!0),u=n[0],m=n[1];return u?(0,l.jsx)(i.Z,{node:(0,o.O5)(),children:(0,l.jsx)(c.Z,d({onClose:function(){m(!1),t&&t()}},r))}):null}},33905:function(e,t,r){"use strict";r(67294);var n=r(35054),a=r(85893);t.Z=function(e){var t=e.closeSnackbar,r=e.displaySnackbar,o=e.type,i=void 0===o?"success":o,s=e.content,c=void 0===s?"Les modifications ont bien \xe9t\xe9 enregistr\xe9es":s,l=e.ctaTitle,p=e.ctaAction,u=e.title;return r?(0,a.jsx)(n.Z,{type:i,zIndex:1001,onClose:t,content:c,ctaTitle:l,ctaAction:p,title:u}):null}},56190:function(e,t,r){"use strict";r.d(t,{Z:function(){return ue}});var n=r(59499),a=r(50029),o=r(17674),i=r(87794),s=r.n(i),c=r(67294),l=r(55162),p=r(74555),u=r(16355),d=r(75531),m=r(8321),f=r(43858),_=r(44288),h=r(51976),g=r(45735),v=r(41602),j=r(89271),x=["image/jpg","image/jpeg","image/png"],y=8e6,b="Votre photo ne doit pas \xeatre contraire aux bonnes m\u0153urs ou \xe0 l'ordre public, ni porter atteinte aux droits de tiers.",P="moderationERROR",O="genericError",w=r(61148),Z=r(33578),C=r(64762),S=r(9361),k=r.n(S),D=r(85893),L=function(e){var t=e.picture,r=e.rejected;return(0,D.jsxs)(D.Fragment,{children:[!t&&(0,D.jsx)("div",{className:k().photo,children:(0,D.jsx)(w.ZP,{size:"fluid",children:(0,D.jsx)(C.Z,{title:"Placeholder photo de profil"})})}),t&&(r?(0,D.jsx)("div",{className:"".concat(k().photo," ").concat(k().rejectedPhoto),children:(0,D.jsx)(Z.Z,{attributes:{alt:"non conforme \xe0 la mod\xe9ration"},src:t})}):(0,D.jsx)("div",{className:k().photo,children:(0,D.jsx)(Z.Z,{attributes:{alt:"profil"},src:t})}))]})};L.defaultProps={rejected:!1};var N,E=L,R=r(72427),T=r.n(R),F=function(e){var t=e.shouldDisplayError,r=e.open;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:T().NewProfilePicture,children:[(0,D.jsx)(E,{}),"formatError"===t?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.Z,{as:"p",variant:"largeImportant",color:"black",paddingTop:"small",textAlign:"center",children:"D\xe9sol\xe9, le format de votre photo ne semble pas adapt\xe9"}),(0,D.jsxs)(j.Z,{as:"p",variant:"body",color:"greyDark",paddingTop:"x-large",textAlign:"center",marginBottom:"xx-large",children:["Nous acceptons les formats : jpg, jpeg, png \u2022 Poids max :"," ",(0,g.sS)(y)]})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.Z,{as:"h2",variant:"title2",marginBottom:"small",children:"Photo de profil"}),(0,D.jsx)(j.Z,{as:"p",textAlign:"center",children:"Nous sommes ravis de vous rencontrer pour de vrai !"})]})]}),(0,D.jsxs)("div",{className:T().uploadPhoto,children:[(0,D.jsx)(h.Z,{variant:"contained",marginTop:"xx-large",onClick:r,color:"secondary",children:t?"Choisir une autre photo":"Ajouter une photo"}),!t&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.Z,{textAlign:"center",variant:"small",marginTop:"medium",color:"greyDark",children:b}),(0,D.jsx)(v.Z,{from:"small",children:(0,D.jsxs)(j.Z,{as:"p",variant:"small",color:"greyDark",paddingTop:"x-large",textAlign:"center",marginBottom:"xx-large",children:["Nous acceptons les formats : jpg, jpeg, png \u2022 Poids max :"," ",(0,g.sS)(y)]})})]})]})]})},z=r(76883),A=function(){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_add_private_profile_part",step_number:"2",step_status:"ongoing",account:"1"})},U=function(){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_modification_add_private_profile_part",step_number:"2",step_status:"ongoing",account:"1"})},M=function(e){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_add_error_private_profile_part",step_number:"2.1",step_status:"ongoing",account:"1",error_status:e})},I=function(e){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_modification_add_error_private_profile_part",step_number:"2.1",step_status:"ongoing",account:"1",error_status:e})},B=function(e){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_delete_add_error_private_profile_part",step_number:"2.1",step_status:"ongoing",account:"1",error_status:e})},q=function(){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_add_confirmation_private_profile_part",step_number:"3",step_status:"final_step",account:"1",error_status:""})},V=function(){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_modification_confirmation_private_profile_part",step_number:"3",step_status:"final_step",account:"1",error_status:""})},Q=function(){return z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_delete_confirmation_private_profile_part",step_number:"3",step_status:"final_step",account:"1",error_status:""})},G=r(79857),H=r.n(G),K=function(e){var t=e.preview,r=e.deletePicture,n=e.open;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(E,{picture:t}),(0,D.jsxs)("div",{className:H().ctaContainer,children:[(0,D.jsx)(h.Z,{variant:"contained",marginBottom:{_:"small",small:"none"},marginLeft:{_:"none",small:"small"},onClick:n,color:"secondary",children:"Modifier ma photo"}),(0,D.jsx)(h.Z,{marginRight:{_:"none",small:"small"},onClick:function(){z._q.sendUnlimitedPageLoad({eventname:"ident",path:"private_profile_part",step_name:"picture_modification_delete_private_profile_part",step_number:"2",step_status:"ongoing",account:"1"}),r()},color:"secondary",children:"Supprimer ma photo"})]})]})},Y=r(27011),W=r.n(Y),X=r(18974),J=[1,1.01,1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.13,1.14,1.15,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.38,1.39,1.4,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.63,1.64,1.65,1.66,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8],$=[null];function ee(e){return N||(N=c.createElement("symbol",{id:"SvgRotation"},c.createElement("path",{d:"M20.102 15.303a1.033 1.033 0 011.462 0l2.133 2.133a1.032 1.032 0 11-1.461 1.461l-.37-.37v1.24a4.238 4.238 0 01-4.022 4.228l-.21.005h-1.6a1.033 1.033 0 11-.001-2.067h1.6a2.17 2.17 0 002.167-2.166l-.001-1.239-.368.369a1.025 1.025 0 01-.596.294l-.135.009a1.032 1.032 0 01-.73-1.764zM15 6a3 3 0 013 3v6a3 3 0 01-3 3H9a3 3 0 01-3-3V9a3 3 0 013-3zm0 2H9a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1V9a1 1 0 00-1-1zM7.967 0a1.034 1.034 0 010 2.067h-1.6A2.17 2.17 0 004.2 4.233l.001 1.239.368-.369c.163-.164.373-.265.596-.294L5.3 4.8a1.032 1.032 0 01.73 1.764L3.898 8.697a1.032 1.032 0 01-1.461 0L.303 6.564a1.032 1.032 0 111.46-1.461l.371.37v-1.24A4.237 4.237 0 016.155.005L6.366 0z",fillRule:"evenodd"})))}ee.displayName="SvgRotation",ee.defaultProps={viewBox:"0 0 24 24"};var te=r(21968),re=r.n(te),ne=function(e){var t=e.rotate,r=e.rotationValue;return(0,D.jsx)("div",{onClick:function(){return t(r-90)},className:re().iconContainer,children:(0,D.jsx)(w.ZP,{children:(0,D.jsx)(ee,{})})})},ae=r(11494),oe=r.n(ae),ie=function(e){var t=e.open,n=e.preview,a=e.shouldDisplayError,o=e.validate,i=(0,c.useState)(1.4),s=i[0],l=i[1],p=(0,c.useState)(0),u=p[0],d=p[1],f=(0,c.useRef)();return(0,D.jsxs)(D.Fragment,{children:[a===O&&(0,D.jsx)(m.Z,{handleClick:t}),a===P&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(E,{rejected:!0,picture:n}),(0,D.jsx)(j.Z,{color:"red",marginBottom:"small",marginTop:"x-large",textAlign:"center",variant:"bodyImportant",children:"D\xe9sol\xe9, votre photo ne semble pas respecter nos conditions d\u2019utilisation. Nous vous encourageons \xe0 r\xe9essayer avec une autre photo."}),(0,D.jsx)(h.Z,{variant:"contained",marginTop:"x-large",onClick:t,color:"secondary",children:"R\xe9essayer"}),(0,D.jsx)(j.Z,{textAlign:"center",variant:"small",marginTop:"medium",color:"greyDark",children:b})]}),!a&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:oe().editor,children:(0,D.jsx)(W(),{ref:f,image:n,width:244,height:244,border:10,scale:s,borderRadius:"190",rotate:u})}),(0,D.jsxs)("div",{className:oe().editionContainer,children:[(0,D.jsx)("div",{className:oe().slider,children:(0,D.jsx)(X.Z,{steps:J,labels:$,value:s,onChange:l,withTooltip:!1,dataQaIds:{sliderContainer:"edit_logo_modal-slider"}})}),(0,D.jsx)(ne,{rotate:d,rotationValue:u})]}),(0,D.jsx)(j.Z,{as:"h2",variant:"title2",marginTop:"xx-large",marginBottom:"small",children:"Sublime !"}),(0,D.jsx)(j.Z,{as:"p",textAlign:"center",children:"Si cette photo vous convient, allez-y"}),(0,D.jsxs)("div",{className:oe().ctaContainer,children:[(0,D.jsx)(h.Z,{variant:"contained",marginBottom:{_:"small",small:"none"},marginLeft:{_:"none",small:"small"},onClick:function(){var e=r(1466),t=f.current.getImage(),n=t.getContext("2d");n.globalCompositeOperation="destination-over",n.fillStyle="white",n.fillRect(0,0,t.width,t.height);var a=e(t.toDataURL("image/jpeg")),i=new FormData;i.append("picture",a),o(i,a)},color:"secondary",children:"Valider"}),(0,D.jsx)(h.Z,{marginRight:{_:"none",small:"small"},onClick:t,color:"secondary",children:"Changer de photo"})]})]})]})},se=r(57954),ce=r.n(se);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=function(e){var t=e.onClose,r=e.successCallback,n=(0,p.I0)(),i=(0,p.v9)((function(e){return e.user.picture})),h=!i.default,g=(0,c.useState)(h),v=g[0],j=g[1],b=(0,c.useState)(null),w=b[0],Z=b[1],C=(0,c.useState)(null)[1],S=(0,c.useState)(!1),k=S[0],L=S[1],N=(0,c.useState)(!1),E=N[0],R=N[1],T=(0,l.uI)({accept:x,maxSize:y,multiple:!1,noDrag:!0,onDrop:function(e,t){var r=(0,o.Z)(e,1)[0],n=(0,o.Z)(t,1)[0];if(j(!1),h?U():A(),n)return C(null),Z(null),void L("formatError");L(!1),C(r),Z(window.URL.createObjectURL(r))}}),z=T.getInputProps,G=T.open;function H(){return(H=(0,a.Z)(s().mark((function e(a,o){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,n(_.h.addProfilePicture(a));case 4:R(!1),L(!1),t(),h?V():q(),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),R(!1),e.t0.response&&422===e.t0.response.status?(L(P),h?I(P):M(P),Z(window.URL.createObjectURL(o))):(L(O),h?I(O):M(O));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Y(){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,n(_.h.deleteProfilePicture());case 4:R(!1),L(!1),t(),r(),Q(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),B(O),R(!1),L(O);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return(0,f.Z)({payload:{eventname:"ident",path:"private_profile_part",step_name:h?"picture_modification_entry_private_profile_part":"picture_entry_private_profile_part",step_number:"1",step_status:"first_step",account:"1"}}),(0,D.jsxs)(D.Fragment,{children:[E&&(0,D.jsx)("div",{className:ce().loaderMask,children:(0,D.jsx)(u.Z,{size:"large"})}),(0,D.jsx)(d.Z,{onClose:t,children:(0,D.jsxs)("div",{className:ce().ProfilePictureModal,children:[(0,D.jsx)("input",pe({},z())),v&&(0,D.jsxs)(D.Fragment,{children:[!k&&(0,D.jsx)(K,{deletePicture:Y,preview:i.extra_large_url,open:G}),k&&(0,D.jsx)(m.Z,{handleClick:Y})]}),!v&&(0,D.jsxs)(D.Fragment,{children:[!w&&(0,D.jsx)(F,{shouldDisplayError:k,open:G}),w&&(0,D.jsx)(ie,{validate:function(e,t){return H.apply(this,arguments)},preview:w,open:G,shouldDisplayError:k})]})]})})]})}},48864:function(e){e.exports={Loader:"styles_Loader__QQS3D"}},72427:function(e){e.exports={NewProfilePicture:"styles_NewProfilePicture__Vc2S2",uploadPhoto:"styles_uploadPhoto__VSl4r"}},79857:function(e){e.exports={ctaContainer:"styles_ctaContainer__lTwy3"}},9361:function(e){e.exports={photo:"styles_photo__COY2_",rejectedPhoto:"styles_rejectedPhoto__cG0Y0"}},21968:function(e){e.exports={iconContainer:"styles_iconContainer__PiQMQ"}},11494:function(e){e.exports={editor:"styles_editor__bJ8tg",slider:"styles_slider__K65YP",ctaContainer:"styles_ctaContainer__5qvFB",editionContainer:"styles_editionContainer__iBRsX"}},57954:function(e){e.exports={ProfilePictureModal:"styles_ProfilePictureModal__CS_oG",loaderMask:"styles_loaderMask__NXbhz"}}}]);